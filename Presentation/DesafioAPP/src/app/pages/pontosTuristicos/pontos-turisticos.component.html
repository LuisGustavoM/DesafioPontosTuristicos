
<section>
  <div class="d-flex flex-row mb-5 ">
    <div class="p-8">
      <h4>Pontos Turísticos</h4>
    </div>
  </div>

  <div class="row">
    <div class="input-group mb-3">
      <input type="text" class="form-control" placeholder="Filtro"
      [(ngModel)]="filtroPontosTuristicos.filtro" (keyup.enter)="buscarServicosPorFiltro()"
      aria-label="Filtro" aria-describedby="basic-addon2">

      <button id="botao_pesquisar" (click)="buscarServicosPorFiltro()" class="btn btn-secondary" type="button"
      id="button-addon2">
      <i class="fa-solid fa-magnifying-glass"></i>
    </button>
    <button id="btn_cadastrar" type="submit" class="btn btn-sm btn-primary" routerLink="detalhes">Cadastrar</button>
    </div>
  </div>

  <table id="tabela" class="table table-striped table-light">
    <thead>
      <tr>
        <th
        (click)="ordenagemCrescente = !ordenagemCrescente; ordernagemColuna = 'nome'; ordenar()"
        scope="col">Nome &nbsp;
        <span *ngIf="ordernagemColuna == 'nome'" class="badge badge-secondary">
          {{ordenagemCrescente == true ? '↑': '↓' }}
        </span>
      </th>

      <th
      (click)="ordenagemCrescente = !ordenagemCrescente; ordernagemColuna = 'descricao'; ordenar()"
      scope="col">Descrição &nbsp;
      <span *ngIf="ordernagemColuna == 'descricao'" class="badge badge-secondary">
        {{ordenagemCrescente == true ? '↑': '↓' }}
      </span>
    </th>

        <th
        (click)="ordenagemCrescente = !ordenagemCrescente; ordernagemColuna = 'referencia'; ordenar()"
        scope="col">Referência &nbsp;
        <span *ngIf="ordernagemColuna == 'referencia'" class="badge badge-secondary">
          {{ordenagemCrescente == true ? '↑': '↓' }}
        </span>
      </th>

          <th
        (click)="ordenagemCrescente = !ordenagemCrescente; ordernagemColuna = 'cidade'; ordenar()"
        scope="col">Cidade &nbsp;
        <span *ngIf="ordernagemColuna == 'cidade'" class="badge badge-secondary">
          {{ordenagemCrescente == true ? '↑': '↓' }}
        </span>
      </th>

          <th
        (click)="ordenagemCrescente = !ordenagemCrescente; ordernagemColuna = 'estado'; ordenar()"
        scope="col">Estado &nbsp;
        <span *ngIf="ordernagemColuna == 'estado'" class="badge badge-secondary">
          {{ordenagemCrescente == true ? '↑': '↓' }}
        </span>
      </th>

      <th
        (click)="ordenagemCrescente = !ordenagemCrescente; ordernagemColuna = 'dataHoraCadastro'; ordenar()"
        scope="col">Data Hora Cadastro &nbsp;
        <span *ngIf="ordernagemColuna == 'dataHoraCadastro'" class="badge badge-secondary">
          {{ordenagemCrescente == true ? '↑': '↓' }}
        </span>
      </th>
      <th>
        Ações
      </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of pontosTuristicos | paginate: { itemsPerPage: 5, currentPage: paginaAtual, totalItems: pontosTuristicos.length};">
        <th>{{item.nome}}</th>
        <th>{{item.descricao}}</th>
        <th>{{item.referencia}}</th>
        <th>{{item.cidade}}</th>
        <th>{{item.estado}}</th>
        <th>{{item.dataHoraCadastro | date:'dd/MM/yyyy HH:mm:ss'}}</th>
        <th class="acoes">
          <button class="btn btn-sm btn-primary" routerLink="detalhes/{{item.id}}">
            <i class="fa-solid fa-pen-to-square"></i>
          </button>
        </th>
      </tr>
    </tbody>
  </table>
  <div class="text-center">
    <pagination-controls (pageChange)="paginaAtual = $event" name="paginacao" previousLabel="Anterior"
      nextLabel="Próximo"></pagination-controls>
  </div>
</section>

